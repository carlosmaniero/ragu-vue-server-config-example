!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function c(e){try{a(o.next(e))}catch(e){i(e)}}function s(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentLoader=void 0;t.ComponentLoader=class{constructor(e){this.context=e}load(e){return o(this,void 0,void 0,(function*(){const t=yield this.context.jsonpGateway.fetchJsonp(e);return t.styles&&t.styles.length&&(yield this.context.dependencyContext.loadStyles(t.styles)),Object.assign(Object.assign({},t),{hydrate:(e,n,r)=>o(this,void 0,void 0,(function*(){const o=t.dependencies||[];yield this.context.dependencyContext.loadAll(o),yield this.context.dependencyContext.load({dependency:t.client});const i=window[t.resolverFunction];if(i.default)return void(yield i.default.hydrate(e,n,r));const c=yield i.resolve();yield c.hydrate(e,n,r)}))})}))}}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function c(e){try{a(o.next(e))}catch(e){i(e)}}function s(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyContext=void 0;class r{constructor(e,t,n){this.scriptLoader=e,this.dependency=t,this.globalVariable=n,this.globalVariable&&void 0!==window[this.globalVariable]?this.resolvePromise=Promise.resolve():this.resolvePromise=this.scriptLoader.load(this.dependency)}resolve(){return this.resolvePromise}resolves(e){return e.globalVariable&&e.globalVariable===this.globalVariable||e.dependency===this.dependency}}t.DependencyContext=class{constructor(e){this.scriptLoader=e,this.dependencies=[]}load(e){return this.getOrCreateDependency(e).resolve()}loadAll(e){return o(this,void 0,void 0,(function*(){for(let t of this.groupDependencies(e))yield this.loadDependencyGroup(t)}))}loadStyles(e){return o(this,void 0,void 0,(function*(){yield Promise.all(e.map(e=>this.loadStyle(e)))}))}loadStyle(e){const t=document.createElement("link");return t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),new Promise(n=>{document.head.querySelector(`link[href="${e}"]`)?n():(t.onload=()=>n(),t.onerror=()=>n(),document.head.appendChild(t))})}loadDependencyGroup(e){return Promise.all(e.map(e=>this.load(e)))}groupDependencies(e){const t={};for(let n of e){const e=n.order||0;t[e]=t[e]||[],t[e].push(n)}const n=Object.keys(t).sort(),o=[];for(let e of n)o.push(t[parseInt(e)]);return Object.values(t)}getOrCreateDependency(e){const t=this.dependencies.find(t=>t.resolves(e));if(t)return t;const n=new r(this.scriptLoader,e.dependency,e.globalVariable);return this.dependencies.push(n),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptLoader=void 0;t.ScriptLoader=class{load(e){const t=document.createElement("script");t.src=e;const n=new Promise((e,n)=>{t.onload=()=>e(),t.onerror=n});return document.head.appendChild(t),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonpGateway=void 0;class o{constructor(e,t){this.document=e,this.url=t,this.id=`${Date.now()}_${Math.ceil(1e7*Math.random())}`,this.script=this.createScript()}createScript(){const e=this.document.createElement("script");return e.src=this.getScriptSRC(),e.id=this.getScriptID(),e}fetch(){const e=new Promise((e,t)=>{window[this.getCallbackFunctionName()]=t=>{this.cleanup(),e(t)},this.script.onerror=e=>{this.cleanup(),t(e)}});return this.document.head.appendChild(this.script),e}cleanup(){delete window[this.getCallbackFunctionName()],this.script.remove()}getScriptSRC(){const e=new URL(this.url);return e.searchParams.append("callback",this.getCallbackFunctionName()),e.toString()}getCallbackFunctionName(){return`${o.callbackFunctionPrefix}${this.id}`}getScriptID(){return`${o.scriptIdPrefix}${this.id}`}}o.scriptIdPrefix="ragu_jsonp_script_",o.callbackFunctionPrefix="raguJSONP_";t.JsonpGateway=class{constructor(e){this.document=e}fetchJsonp(e){return new o(this.document,e).fetch()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(5).registerRaguComponent()},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(6),t),r(n(0),t),r(n(1),t),r(n(3),t),r(n(2),t)},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function c(e){try{a(o.next(e))}catch(e){i(e)}}function s(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.registerRaguComponent=t.defaultComponentLoader=void 0;const r=n(0),i=n(1),c=n(2),s=n(3);t.defaultComponentLoader=new r.ComponentLoader({dependencyContext:new i.DependencyContext(new c.ScriptLoader),jsonpGateway:new s.JsonpGateway(document)}),t.registerRaguComponent=(e=t.defaultComponentLoader)=>{class n extends HTMLElement{static get observedAttributes(){return["src"]}attributeChangedCallback(){return o(this,void 0,void 0,(function*(){yield this.fetchComponent()}))}disconnectedCallback(){this.disconnectComponent()}fetchComponent(){return o(this,void 0,void 0,(function*(){const t=this.getAttribute("src");t&&(this.disconnectComponent(),this.component=yield e.load(t),this.innerHTML=this.component.html,yield this.component.hydrate(this,this.component.props,this.component.state))}))}disconnectComponent(){var e,t;this.component&&(null===(t=(e=this.component).disconnect)||void 0===t||t.call(e))}}window.customElements.define("ragu-component",n)}}]);